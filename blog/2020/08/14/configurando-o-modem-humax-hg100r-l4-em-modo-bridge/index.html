<!DOCTYPE html>
<html lang="pt" prefix="
    addthis: http://www.addthis.com/help/api-spec
    og: http://ogp.me/ns#
    fb: http://ogp.me/ns/fb#
    article: http://ogp.me/ns/article#">

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

    
        <script type="text/javascript">
            if (("vinyanalista.github.io" == window.location.host) && (window.location.protocol != "https:")) {
                window.location = window.location.toString().replace(/^http:/, "https:");
            }
        </script>
    

    <title>Configurando o modem HUMAX HG100R-L4 em modo bridge - Antônio Vinícius</title>
    <meta name="author" content="Antônio Vinícius">
    <meta name="description" content="Uma bridge (“ponte”, em inglês) é um dispositivo de rede que une duas redes a nível de camada 2 do modelo OSI (camada de enlace). Normalmente, o modem da ope...">
    <link rel="canonical" href="https://vinyanalista.github.io/blog/2020/08/14/configurando-o-modem-humax-hg100r-l4-em-modo-bridge/">
    <link rel="alternate" type="application/rss+xml" title="Antônio Vinícius" href="https://vinyanalista.github.io/feed.xml" />

    <!-- OpenSearch -->
    <link rel="search" type="application/opensearchdescription+xml" title="Pesquisar em Antônio Vinícius" href="https://vinyanalista.github.io/opensearch.xml" />

    <!-- Open Graph -->
    
        <meta property="article:published_time" content="2020-08-14 00:15:00 -0300"/>
        
            <meta property="article:publisher" content="https://facebook.com/pages/vinyanalistacombr/1604841683119097" />
        
    
    
    
        <meta property="fb:page_id" content="1604841683119097" />
    
    <meta property="og:description" content="Uma bridge (“ponte”, em inglês) é um dispositivo de rede que une duas redes a nível de camada 2 do modelo OSI (camada de enlace). Normalmente, o modem da ope..." />
    
        <meta property="og:image" content="https://vinyanalista.github.io/files/2020/08/modem-bridge.jpg" />
    
    <meta property="og:site_name" content="Antônio Vinícius" />
    <meta property="og:title" content="Configurando o modem HUMAX HG100R-L4 em modo bridge" />
    <meta property="og:type" content="article" />
    <meta property="og:url" content="https://vinyanalista.github.io/blog/2020/08/14/configurando-o-modem-humax-hg100r-l4-em-modo-bridge/" />

    <!-- Twitter Cards -->
    <meta name="twitter:card" content="summary" />
    
        <meta name="twitter:site" content="@vinyanalista" />
    

    <!-- Favicons (made with RealFaviconGenerator.net) -->
    <link rel="apple-touch-icon" sizes="180x180" href="https://vinyanalista.github.io/apple-touch-icon.png?v=4">
    <link rel="icon" type="image/png" sizes="32x32" href="https://vinyanalista.github.io/favicon-32x32.png?v=4">
    <link rel="icon" type="image/png" sizes="16x16" href="https://vinyanalista.github.io/favicon-16x16.png?v=4">
    <link rel="manifest" href="https://vinyanalista.github.io/site.webmanifest?v=4">
    <link rel="mask-icon" href="/safari-pinned-tab.svg?v=4" color="#2196f3">
    <link rel="shortcut icon" href="https://vinyanalista.github.io/favicon.ico?v=4">
    <meta name="msapplication-TileColor" content="#2196f3">
    <meta name="theme-color" content="#2196f3">

    <!-- CSS -->
    <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,400,500,700|Material+Icons">
    
        <!--<link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">-->
        <!--<link rel="stylesheet" href="https://unpkg.com/bootstrap-material-design@4.1.2/dist/css/bootstrap-material-design.min.css" integrity="sha384-dI6l3oYG+wVvjfdlixt6+FMddrb9+uejLU/wMhQFKklk7RDtSDBfe/XuF1dkcgVV" crossorigin="anonymous">-->
        <link rel="stylesheet" href="/libs/bootstrap-material-design/4.1.2/custom/bootstrap-material-design.min.css">
        <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5.11.2/css/all.min.css" integrity="sha256-+N4/V/SbAFiW1MPBCXnfnP9QSN3+Keu+NlB+0ev/YKQ=" crossorigin="anonymous">
    
    <link rel="stylesheet" href="/assets/css/syntax.css">
    <link rel="stylesheet" href="/assets/css/main.css">

    <!-- JS -->
    
        <script src="https://code.jquery.com/jquery-3.4.1.slim.min.js" integrity="sha256-pasqAKBDmFT4eHoN2ndd6lN370kFiGUFyTiUHWhU7k8=" crossorigin="anonymous"></script>
        <script src="https://unpkg.com/popper.js@1.16.0/dist/umd/popper.min.js" integrity="sha256-x3YZWtRjM8bJqf48dFAv/qmgL68SI4jqNWeSLMZaMGA=" crossorigin="anonymous"></script>
        <!--<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js" integrity="sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM" crossorigin="anonymous"></script>-->
        <script src="https://unpkg.com/bootstrap-material-design@4.1.2/dist/js/bootstrap-material-design.min.js" integrity="sha384-aWO+CcMRDQLEvnT8RdnCxWbs4C76Ryoo4pzYpGNW2vlHTHiPA7gpBzIB5nYwYfLg" crossorigin="anonymous"></script>
    
    <script src="/assets/js/main.js"></script>

    
        <!-- Google Analytics -->
        <script async src="https://www.googletagmanager.com/gtag/js?id=UA-65333685-1"></script>
        <script>
            window.dataLayer = window.dataLayer || [];
            function gtag(){dataLayer.push(arguments);}
            gtag('js', new Date());

            gtag('config', 'UA-65333685-1');
        </script>
        <!-- End Google Analytics -->
    

    
        <!-- Google AdSense -->
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
    

    
        <!-- AddThis -->
        <script async src="//s7.addthis.com/js/300/addthis_widget.js#pubid=ra-4f7774466af48b4f"></script>
        <script type="text/javascript">
            var addthis_config = {
                data_track_clickback: true,
                data_track_addressbar: true,
                ui_language: 'pt'
            };
            var addthis_share = {
                url: 'https://vinyanalista.github.io/blog/2020/08/14/configurando-o-modem-humax-hg100r-l4-em-modo-bridge/',
                title: document.title,
                description: 'Uma bridge (“ponte”, em inglês) é um dispositivo de rede que une duas redes a nível de camada 2 do modelo OSI (camada de enlace). Normalmente, o modem da operadora atua como roteador (router), ou seja, atua na camada 3 (camada de rede), separando a rede de casa e a rede da operadora em espaços...'
            };
        </script>
        <!-- End AddThis -->
    
</head>


<body itemscope itemtype="http://schema.org/BlogPosting">
    <div class="bmd-layout-container bmd-drawer-f-l bmd-drawer-overlay">
        <!-- Fixed navbar -->
<nav class="navbar navbar-expand-md navbar-dark fixed-top bg-primary">
    <div class="container">
        <button type="button" class="navbar-toggler" data-toggle="drawer" data-target="#drawer">
            <span class="sr-only">Exibir/esconder navegação</span>
            <i class="material-icons">menu</i>
        </button>

        <a class="navbar-brand" href="/">Antônio Vinícius</a>

        <div class="collapse navbar-collapse" id="navbar">
            <ul class="navbar-nav m-auto">
                <li class="nav-item">
                    <a class="nav-link" href="/">Blog</a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" href="/blog/category/trabalhos/">Trabalhos</a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" href="http://lattes.cnpq.br/2162371468280338">Currículo</a>
                </li>
            </ul>
            <form action="/search/" class="form-inline" id="navbar-search-form" method="get" role="search">
                
                
                <div class="input-group">
                    <input class="form-control search-field" id="navbar-search-field" name="q" placeholder="Pesquisar" type="text" aria-label="Pesquisar">
                    <div class="input-group-append">
                        <button class="btn btn-secondary btn-number search-button" id="navbar-search-button" type="submit">
                            <i class="fa fa-search"></i>
                        </button>
                    </div>
                </div>
            </form>
        </div><!--#navbar-->
    </div><!--.container-->
</nav>

        <!-- Navigation drawer -->
<div id="drawer" class="bmd-layout-drawer bg-faded">
    <header>
        <a class="navbar-brand" href="/">Antônio Vinícius</a>
    </header>
    <form action="/search/" class="form-inline border-top" id="drawer-search-form" method="get" role="search">
        
        
        <div class="bmd-form-group-sm">
            <div class="input-group">
                <input class="form-control search-field" id="drawer-search-field" name="q" placeholder="Pesquisar" type="text" aria-label="Pesquisar">
                <div class="input-group-append">
                    <button class="btn btn-secondary btn-number search-button" id="drawer-search-button" type="submit">
                        <i class="fa fa-search"></i>
                    </button>
                </div>
            </div><!-- .input-group -->
        </div><!-- .bmd-form-group-sm -->
    </form>
    <ul class="list-group list-group-flush border-top" id="drawer-links">
        <li class="list-group-item">
            <a class="nav-link" href="/">Blog</a>
        </li>
        <li class="list-group-item">
            <a class="nav-link" href="/blog/category/trabalhos/">Trabalhos</a>
        </li>
        <li class="list-group-item">
            <a class="nav-link" href="http://lattes.cnpq.br/2162371468280338">Currículo</a>
        </li>
    </ul>
</div>


        <main class="bmd-layout-content">
            <div class="container" id="main-container">
                <div class="row">
                    <div class='col-sm-8'>
                        <div class="blog-post card mb-3">
    <header class="card-header">
        <h1 class="blog-post-title" itemprop="headline name">
            <a class="blog-post-link" href="/blog/2020/08/14/configurando-o-modem-humax-hg100r-l4-em-modo-bridge/" itemprop="mainEntityOfPage url">
                Configurando o modem HUMAX HG100R-L4 em modo bridge
            </a>
        </h1>
        <div class="blog-post-meta row">
            <div class='col-sm-6'>
                <p class="blog-post-date" itemprop="datePublished" content="2020-08-14">
                    <a href="/blog/2020/08/14/">
                        14 de
                        
                        Agosto
                        
                        de 2020
                    </a>
                </p>
                <meta itemprop="dateModified" content="2020-08-14" />
            </div>
            <div class='col-sm-6'>
                
                    <div class='blog-post-share'>
                        <!-- AddThis Sharing Buttons -->
                        <div class="addthis_toolbox addthis_default_style">
                            <a class="addthis_button_facebook"></a>
                            <a class="addthis_button_twitter" data-via="vinyanalista"></a>
                            <a class="addthis_button_google_plusone_share"></a>
                            <a class="addthis_button_favorites"></a>
                            <a class="addthis_button_compact"></a>
                            <a class="addthis_counter addthis_bubble_style"></a>
                        </div>
                        <!-- AddThis Sharing Buttons End -->
                    </div><!-- .blog-post-share -->
                
            </div><!-- .col-sm-6 -->
        </div><!-- .blog-post-meta -->
    </header>

    <article class="blog-post-content card-body">
        
            
    <!-- Google AdSense -->
    <ins class="adsbygoogle" id="content_ad_unit_1"
        style="display:block"
        data-ad-client="ca-pub-5193467168351289"
        data-ad-slot="5988452654"
        data-ad-format="auto"
        data-full-width-responsive="true"></ins>
    <!-- End Google AdSense -->


        

        <div itemprop="articleBody mainEntity">
            <p>Uma <em><strong><a href="https://pt.wikipedia.org/wiki/Bridge_(redes_de_computadores)">bridge</a></strong></em> (“ponte”, em inglês) é um dispositivo de rede que une duas redes a nível de camada 2 do <a href="https://pt.wikipedia.org/wiki/Modelo_OSI">modelo OSI</a> (camada de enlace). Normalmente, o modem da operadora atua como <strong><a href="https://pt.wikipedia.org/wiki/Roteador">roteador</a></strong> (<em>router</em>), ou seja, atua na camada 3 (camada de rede), separando a rede de casa e a rede da operadora em espaços de endereços IP diferentes.</p>

<p>Se você tem outro roteador, como o <a href="/blog/2020/07/20/primeiros-passos-com-o-mikrotik-hap-ac-roteador-profissional-para-a-rede-de-casa/">MikroTik</a> do qual tenho falado nos meus últimos <em>posts</em>, pode ser interessante mudar o modem da operadora para o modo <em>bridge</em>, o que faz com que seu outro roteador entre em contato direto com a rede da operadora, recebendo um endereço IP desta, e sendo o único responsável por gerenciar toda a rede da sua casa.</p>

<p>Tentando usar uma linguagem menos técnica, tornar o modem da operadora uma <em>bridge</em> na prática seria como anulá-lo, ele passa a fazer apenas o “leva e traz” de dados na rede, enquanto quem faz o “trabalho pesado” mesmo é o roteador conectado a ele.</p>

<div class="image no-ads-here text-center mb-3" itemscope="" itemtype="http://schema.org/ImageObject">
<a href="/files/2020/08/modem-bridge.jpg" title="">
<img src="/files/2020/08/modem-bridge.jpg" alt="" class="img-fluid img-thumbnail" itemprop="contentUrl" />
</a>

</div>

<p>Se você, assim como eu, confia mais no seu roteador do que no equipamento da operadora, configurar o modem em modo <em>bridge</em> pode trazer mais segurança para a rede da sua casa.</p>

<p>Hoje eu sou cliente da <a href="https://www.claro.com.br/">Claro</a> e tenho em minha casa o modem HUMAX HG100R-L4 e o roteador MikroTik hAP ac lite TC. Vou mostrar como deixar o modem HG100R-L4 em modo <em>bridge</em> e o MikroTik como único roteador da casa.</p>

<div class="alert alert-warning" role="alert">

<p>Observe que as instruções de como configurar o modem em modo <em>bridge</em> podem variar de modem para modem. Se seu modem é diferente, pesquise na Internet instruções específicas para ele. Observe também que esse procedimento pode não ser suportado pela operadora. Por isso, é importante que o primeiro passo seja fazer <em>backup</em> das configurações do modem. Pode ser que você precise devolvê-las caso precise acionar o suporte da operadora no futuro.</p>

</div>

<h2 id="ponto-de-partida">Ponto de partida</h2>

<p>Conecte seu roteador ao modem da operadora, como na imagem acima.</p>

<p>Conecte seu computador ao seu roteador.</p>

<p>Caso seu roteador seja um MikroTik como o meu e você tenha caído nessa página de paraquedas, talvez queira dar uma conferida os textos anteriores:</p>

<ul>
  <li><a href="/blog/2020/07/20/primeiros-passos-com-o-mikrotik-hap-ac-roteador-profissional-para-a-rede-de-casa/">Primeiros passos com o MikroTik hAP ac: roteador profissional para a rede de casa</a></li>
  <li><a href="2020-07-21-mikrotik-modo-de-seguranca-safe-mode">MikroTik: modo de segurança (Safe Mode)</a></li>
</ul>

<h2 id="acessando-a-interface-web-do-modem">Acessando a interface web do modem</h2>

<p>Abra o navegador e acesse a interface <em>web</em> do <em>modem</em> da operadora. O endereço IP, assim como o <em>login</em> e senha que você vai usar para acessar essa interface comumente podem ser encontrados em uma etiqueta no próprio modem ou fazendo uma pesquisa na Internet.</p>

<p>No caso do modem HUMAX HG100R-L4, o endereço IP é <a href="http://192.168.0.1">192.168.0.1</a> e o <em>login</em> e senha estão em uma etiqueta no próprio modem:</p>

<div class="image no-ads-here text-center mb-3" itemscope="" itemtype="http://schema.org/ImageObject">
<a href="/files/2020/08/modem-bridge-01.png" title="">
<img src="/files/2020/08/modem-bridge-01.png" alt="" class="img-fluid img-thumbnail" itemprop="contentUrl" />
</a>

</div>

<p>A tela inicial resume as informações da conexão e traz as configurações mais comuns, que são o nome e a senha da rede Wi-Fi. Acesse as configurações avançadas clicando em <strong>Advanced Network Settings</strong> (configurações avançadas de rede):</p>

<div class="image no-ads-here text-center mb-3" itemscope="" itemtype="http://schema.org/ImageObject">
<a href="/files/2020/08/modem-bridge-02.jpg" title="">
<img src="/files/2020/08/modem-bridge-02.jpg" alt="" class="img-fluid img-thumbnail" itemprop="contentUrl" />
</a>

</div>

<h3 id="fazendo-backup-da-configuração-atual">Fazendo backup da configuração atual</h3>

<p>Nas configurações avançadas, selecione <strong>básico</strong> no menu à esquerda, depois <strong>Back Up</strong>. Selecione <strong>Salve Status Atual</strong> e clique em <strong>aplicar</strong> para baixar a configuração atual do modem:</p>

<div class="image no-ads-here text-center mb-3" itemscope="" itemtype="http://schema.org/ImageObject">
<a href="/files/2020/08/modem-bridge-03.jpg" title="">
<img src="/files/2020/08/modem-bridge-03.jpg" alt="" class="img-fluid img-thumbnail" itemprop="contentUrl" />
</a>

</div>

<p>O navegador vai baixar um arquivo chamado <code class="highlighter-rouge">GatewaySettings.bin</code>. Salve esse arquivo em um local seguro, que você se lembre depois, pro caso de precisar restaurar o <em>backup</em>.</p>

<h3 id="desativando-a-rede-wi-fi-do-modem">Desativando a rede Wi-Fi do modem</h3>

<p>Na interface <em>web</em> do modem, selecione <strong>Sem fio</strong> no menu à esquerda, depois <strong>Rede Primária</strong>. À direita, marque a opção <strong>Inválido</strong> e depois clique em <strong>aplicar</strong>:</p>

<div class="image no-ads-here text-center mb-3" itemscope="" itemtype="http://schema.org/ImageObject">
<a href="/files/2020/08/modem-bridge-04.jpg" title="">
<img src="/files/2020/08/modem-bridge-04.jpg" alt="" class="img-fluid img-thumbnail" itemprop="contentUrl" />
</a>

</div>

<h3 id="ativando-o-modo-bridge">Ativando o modo bridge</h3>

<p>Ainda nas configurações avançadas do modem, selecione <strong>básico</strong> no menu à esquerda, depois <strong>Definir</strong>. Role a página à direita até encontrar a opção <strong>Modo Switch</strong> e defina-a como <strong>Bridge</strong>:</p>

<div class="image no-ads-here text-center mb-3" itemscope="" itemtype="http://schema.org/ImageObject">
<a href="/files/2020/08/modem-bridge-05.jpg" title="">
<img src="/files/2020/08/modem-bridge-05.jpg" alt="" class="img-fluid img-thumbnail" itemprop="contentUrl" />
</a>

</div>

<p>Chegamos ao ponto de não retorno. Clique em <strong>aplicar</strong> para ativar o modo <em>bridge</em>.</p>

<p>O modem será reiniciado. Você pode fechar a janela do navegador.</p>

<p>Abra uma janela do terminal e deixe um <strong><a href="https://man7.org/linux/man-pages/man8/ping.8.html">ping</a></strong> rodando para algum endereço IP na Internet (por exemplo, o <a href="https://developers.google.com/speed/public-dns/docs/using">servidor de DNS público do Google</a>, 8.8.8.8). Observando o comando <strong>ping</strong> é possível saber quando o modem terminou de reiniciar e a conexão com a Internet voltou:</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
</pre></td><td class="rouge-code"><pre>$ ping 8.8.8.8
...
From 10.0.0.1 icmp_seq=95 Destination Net Unreachable
From 10.0.0.1 icmp_seq=96 Destination Net Unreachable
From 10.0.0.1 icmp_seq=97 Destination Net Unreachable
64 bytes from 8.8.8.8: icmp_seq=98 ttl=115 time=28.3 ms
64 bytes from 8.8.8.8: icmp_seq=99 ttl=115 time=30.1 ms
64 bytes from 8.8.8.8: icmp_seq=100 ttl=115 time=25.9 ms
64 bytes from 8.8.8.8: icmp_seq=101 ttl=115 time=31.7 ms
</pre></td></tr></tbody></table></code></pre></div></div>

<h2 id="verificando-a-conexão-do-roteador">Verificando a conexão do roteador</h2>

<p>Se seu roteador estava configurado para obter <a href="https://pt.wikipedia.org/wiki/Dynamic_Host_Configuration_Protocol">DHCP</a>, deve ter recebido um endereço IP diretamente da rede da operadora (não mais do modem, que agora está em modo <em>bridge</em>).</p>

<p>No caso do MikroTik, para verificar o endereço IP obtido, inicie o <a href="/blog/2020/07/20/primeiros-passos-com-o-mikrotik-hap-ac-roteador-profissional-para-a-rede-de-casa/">WinBox</a>. Na janela do WinBox, à esquerda, expanda o menu <strong>IP</strong>, depois clique no item <strong>Addresses</strong> (endereços):</p>

<div class="image no-ads-here text-center mb-3" itemscope="" itemtype="http://schema.org/ImageObject">
<a href="/files/2020/08/modem-bridge-06.jpg" title="">
<img src="/files/2020/08/modem-bridge-06.jpg" alt="" class="img-fluid img-thumbnail" itemprop="contentUrl" />
</a>

</div>

<p>No meu exemplo, o MikroTik obteve o endereço IP <code class="highlighter-rouge">100.64.198.110/19</code>:</p>

<div class="image no-ads-here text-center mb-3" itemscope="" itemtype="http://schema.org/ImageObject">
<a href="/files/2020/08/modem-bridge-07.jpg" title="">
<img src="/files/2020/08/modem-bridge-07.jpg" alt="" class="img-fluid img-thumbnail" itemprop="contentUrl" />
</a>

</div>

<p>(se a notação <code class="highlighter-rouge">/19</code> é nova para você — eu só a conheci quando tive a oportunidade de trabalhar com redes — ela quer dizer que os primeiros 19 <em>bits</em> do endereço IP identificam a rede, para mais informações procure saber sobre <a href="https://www.hardware.com.br/dicas/entendendo-cidr.html">CIDR</a>)</p>

<h2 id="acessando-a-interface-web-da-bridge">Acessando a interface web da bridge</h2>

<p>No futuro, caso precise usar a interface <em>web</em> do modem, que agora está em modo <em>bridge</em> — por exemplo, para restaurar o <em>backup</em> das configurações do modem, desativando assim o modo <em>bridge</em> — abra o navegador e acesse o endereço IP <a href="http://192.168.100.1">192.168.100.1</a>.</p>

<p>Não sei como a <em>bridge</em> responde por esse endereço IP, dado que ela não atua na camada 3 (camada de rede) do modelo OSI. Só sei que funciona. Parece mágica…</p>

<h2 id="notas-sobre-carrier-grade-nat">Notas sobre carrier-grade NAT</h2>

<p>O endereço IP <code class="highlighter-rouge">100.64.198.110/19</code> pertence à rede <code class="highlighter-rouge">100.64.192.0</code>. Não se trata de um endereço IP “real” (ou público), como seria de se esperar há alguns anos, mas de um <a href="https://pt.wikipedia.org/wiki/Rede_privada">endereço IP privado</a> dentro da rede da operadora. Endereços IP como esse passaram a ser distribuídos para roteadores domésticos após o <a href="https://pt.wikipedia.org/wiki/Exaustão_do_IPv4">esgotamento dos endereços IPv4</a>. As operadoras adotaram uma prática chamada de <a href="https://pt.wikipedia.org/wiki/Carrier_Grade_NAT"><em>carrier-grade</em> NAT (CGN)</a>, que reserva o bloco <code class="highlighter-rouge">100.64.0.0/10</code> para a atribuição de endereços IP às residências.</p>

<p>A <em>carrier-grade</em> NAT impossibilita a hospedagem de serviços e o redirecionamento de portas (com isso, você não pode servir um <em>site</em> para o mundo a partir do seu computador de casa, por exemplo), mas é um “mal necessário” para viabilizar o uso de redes IPv4 hoje em dia, dado que os endereços IPv4 já se esgotaram. Caso você precise de um endereço IP público, uma alternativa é verificar junto à operadora a possibilidade de alugar um (a um custo adicional). Outra alternativa é ativar o <a href="http://ipv6.br/">IPv6</a>, que veremos oportunamente como fazer.</p>

<h2 id="por-que-eu-uso-o-modo-bridge">Por que eu uso o modo bridge</h2>

<p>Em 2015, eu tive um problema com o modem ARRIS TG862 da NET: um vírus invadiu o modem e mudou os endereços dos servidores DNS. Com isso, vários <em>sites</em> passaram a exibir anúncios bastante irritantes e inconvenientes em russo, como os das imagens abaixo.</p>

<div class="image no-ads-here text-center mb-3" itemscope="" itemtype="http://schema.org/ImageObject">
<a href="/files/2020/08/arris-tg862-malware-1.jpg" title="(fonte da imagem: [Clube do Hardware](https://www.clubedohardware.com.br/topic/1114991-adware-russo-que-nenhum-antiv%C3%ADrus-elimina/))">
<img src="/files/2020/08/arris-tg862-malware-1.jpg" alt="(fonte da imagem: [Clube do Hardware](https://www.clubedohardware.com.br/topic/1114991-adware-russo-que-nenhum-antiv%C3%ADrus-elimina/))" class="img-fluid img-thumbnail" itemprop="contentUrl" />
</a>

<em class="caption" itemprop="description">
<p>(fonte da imagem: <a href="https://www.clubedohardware.com.br/topic/1114991-adware-russo-que-nenhum-antiv%C3%ADrus-elimina/">Clube do Hardware</a>)</p>

</em>

</div>

<div class="image no-ads-here text-center mb-3" itemscope="" itemtype="http://schema.org/ImageObject">
<a href="/files/2020/08/arris-tg862-malware-2.jpg" title="(fonte da imagem: [Comunidade do Hardware.com.br](https://www.hardware.com.br/comunidade/adware-redirecionando/1372966/))">
<img src="/files/2020/08/arris-tg862-malware-2.jpg" alt="(fonte da imagem: [Comunidade do Hardware.com.br](https://www.hardware.com.br/comunidade/adware-redirecionando/1372966/))" class="img-fluid img-thumbnail" itemprop="contentUrl" />
</a>

<em class="caption" itemprop="description">
<p>(fonte da imagem: <a href="https://www.hardware.com.br/comunidade/adware-redirecionando/1372966/">Comunidade do Hardware.com.br</a>)</p>

</em>

</div>

<p>Isso acontecia porque o servidor DNS farsante redirecionava as requisições ao <a href="https://analytics.google.com/">Google Analytics</a> (um serviço usado por muitos <em>sites</em>) para outro servidor que não era o do <a href="https://google.com/">Google</a>, fazendo com que o navegador baixasse o <em>script</em> dos anúncios em russo, em vez do <em>script</em> requisitado pelo <em>site</em>, que era o do Google Analytics.</p>

<p>A solução foi entrar na interface <em>web</em> do modem, mudar a senha de administrador e mudar a configuração de DNS. Depois disso, os anúncios em russo pararam de aparecer.</p>

<p>Se tiver curiosidade de ler mais sobre o ocorrido, aqui vão alguns <em>links</em> da época:</p>

<ul>
  <li><a href="https://www.tecmundo.com.br/malware/77194-novo-malware-sequestra-roteador-enche-sites-propagandas.htm">Novo malware sequestra roteador e enche sites de propagandas - TecMundo</a></li>
  <li><a href="http://g1.globo.com/tecnologia/blog/seguranca-digital/post/android-infectado-e-anuncios-estranhos-sao-sinais-de-ataque-roteador.html">Android “infectado” e anúncios “estranhos” são sinais de ataque a roteador | G1 - Tecnologia e Games</a></li>
  <li><a href="https://www.clubedohardware.com.br/topic/1114991-adware-russo-que-nenhum-antivírus-elimina/">Adware Russo que nenhum antivírus elimina - Invasões e infecções - Clube do Hardware</a></li>
  <li><a href="https://www.clubedohardware.com.br/topic/1116552-abrindo-propagandas-e-links-sozinho/">Abrindo propagandas e links sozinho - Redes e Internet - Clube do Hardware</a></li>
  <li><a href="https://www.hardware.com.br/comunidade/adware-redirecionando/1372966/">Adware me enlouquecendo e redirecionando para sites russos - Comunidade do Hardware.com.br</a></li>
  <li><a href="https://www.theverge.com/2015/3/25/8290277/router-hack-adware-porn-security-ara-labs">This router hack is injecting ads and porn into random websites - The Verge</a></li>
  <li><a href="https://uwnthesis.wordpress.com/2015/03/26/ad-fraud-malware-hijacks-router-dns-injects-ads-via-google-analytics/">Ad-Fraud Malware Hijacks Router DNS – Injects Ads Via Google Analytics | University of South Wales:  Cyber University</a></li>
</ul>

<p>Desde 2016, quando comprei o MikroTik, já me mudei algumas vezes e sempre o deixo como o roteador da casa, sempre configuro o modem da operadora em modo <em>bridge</em>. Com isso, tenho maior controle sobre a rede da minha casa e mais segurança.</p>

<h2 id="referências">Referências</h2>

<ul>
  <li><a href="https://www.net.com.br/documento/2019/07/01/hg100rl4_user_guide.pdf">Manual de usuário do HG100R-L4</a></li>
  <li><a href="https://www.youtube.com/watch?v=k7uDrhdEPTI">Configurando Modem da NET em Bridge HUMAX HG100R-L4</a></li>
</ul>


        </div>

        
            <!-- AddThis Sharing Buttons -->
            <div class="gap"></div>
            <h2>Gostou? Então compartilha!</h2>
            <div class="addthis_toolbox addthis_default_style addthis_32x32_style">
                <a class="addthis_button_facebook"></a>
                <a class="addthis_button_twitter" data-via="vinyanalista"></a>
                <a class="addthis_button_google_plusone_share"></a>
                <a class="addthis_button_email"></a>
                <a class="addthis_button_favorites"></a>
                <a class="addthis addthis_button_print"></a>
                <a class="addthis_button_pdfonline"></a>
                <a class="addthis_button_compact"></a>
                <a class="addthis_counter addthis_bubble_style"></a>
            </div>
            <!-- AddThis Sharing Buttons End -->
        

        
            <!-- Disqus -->
            <div class="gap"></div>
            <h2>Comentários</h2>
            <div id="disqus_thread"></div>
            <script>
                var disqus_config = function () {
                    this.page.url = 'https://vinyanalista.github.io/blog/2020/08/14/configurando-o-modem-humax-hg100r-l4-em-modo-bridge/';
                };

                (function() {
                    var d = document, s = d.createElement('script');

                    s.src = '//vinyanalista.disqus.com/embed.js';

                    s.setAttribute('data-timestamp', +new Date());
                    (d.head || d.body).appendChild(s);
                })();
            </script>
            <noscript>
                <p><a href="http://www.enable-javascript.com/pt/" target="_blank">Habilite o JavaScript</a> para ver os <a href="https://disqus.com/?ref_noscript" rel="nofollow">comentários providos pelo Disqus</a>.</p>
            </noscript>
            <!-- Disqus End -->
        
    </article>
</div><!-- .blog-post -->

                    </div>
                    <div class="col-sm-4">
                        <div class="card mb-3">
    <div class="card-header">
        <h3><a name="about"></a><a name="author"></a>Sobre mim</h3>
    </div>
    <div class="card-body" itemprop="author" itemscope itemtype="http://schema.org/Person">
        
            <p class="text-center">
                <a href='https://secure.gravatar.com/avatar/5415f4267b44aa9f51b6f89ac4d1656b' title='Antônio Vinícius'>
                    <img src='https://secure.gravatar.com/avatar/5415f4267b44aa9f51b6f89ac4d1656b' alt='Antônio Vinícius' class='img-fluid img-thumbnail rounded-circle'>
                </a>
            </p>
        
        
            <p class="lead text-center" itemprop="name">
                Antônio Vinícius
            </p>
        
        <link itemprop="url" href="https://vinyanalista.github.io">
        <p>
            Aqui tento compartilhar um pouco das minhas experiências como estudante e profissional de TI :)
        </p>
        <p class='text-center'>
            <a href='http://lattes.cnpq.br/2162371468280338' title='Currículo Lattes' itemprop='sameAs'>
                <img src='/assets/img/curriculo_lattes.png' alt='Currículo Lattes' class='img-fluid lattes'>
            </a>
        </p>
        
            <!-- AddThis Follow Buttons -->
            <div class="addthis_toolbox addthis_32x32_style addthis_default_style addthis_follow_buttons text-center">
                
                    <a href="https://facebook.com/pages/vinyanalistacombr/1604841683119097" class="addthis_button_facebook_follow" addthis:userid="pages/vinyanalistacombr/1604841683119097" itemprop="sameAs"></a>
                
                
                    <a href="https://twitter.com/vinyanalista" class="addthis_button_twitter_follow" addthis:userid="vinyanalista" itemprop="sameAs"></a>
                
                
                
                    <a href="https://www.linkedin.com/in/vinyanalista" class="addthis_button_linkedin_follow" addthis:userid="vinyanalista" itemprop="sameAs"></a>
                
                
                    <a href="https://youtube.com/user/viniciusifse" class="addthis_button_youtube_follow" addthis:userid="viniciusifse" itemprop="sameAs"></a>
                
                
                
                    <a href="https://github.com/vinyanalista" class="addthis_button_github_follow" addthis:userid="vinyanalista" itemprop="sameAs"></a>
                
                <a href="/feed.xml" class="addthis_button_rss_follow"></a>
            </div>
            <!-- AddThis Follow Buttons End -->
        
    </div><!-- .card-body -->
</div><!-- .card -->


    <div class="card mb-3">
        <div class="card-body">
            
    <!-- Google AdSense -->
    <ins class="adsbygoogle" id="sidebar_ad_unit"
        style="display:block"
        data-ad-client="ca-pub-5193467168351289"
        data-ad-slot="4511719452"
        data-ad-format="auto"
        data-full-width-responsive="true"></ins>
    <!-- End Google AdSense -->


        </div><!-- .col-xs-12 -->
    </div><!-- .row -->


                    </div>
                </div>
            </div>

            <footer class="footer">
    <div class="container">
        Copyright &copy; 2021 <a href='#author'>Antônio Vinícius</a>. Todos os direitos reservados. Baseado no <a href='https://github.com/vinyanalista/material-jekyll-plus'>Material site template for Jekyll PLUS</a>.
    </div>
</footer>

<meta itemprop="description" content="Uma bridge (“ponte”, em inglês) é um dispositivo de rede que une duas redes a nível de camada 2 do modelo OSI (camada de enlace). Normalmente, o modem da operadora atua como roteador (router), ou seja, atua na camada 3 (camada de rede), separando a rede de casa e a rede da operadora em espaços...">


    <div itemprop="image" itemscope itemtype="http://schema.org/ImageObject">
        <meta itemprop="url" content="https://vinyanalista.github.io/files/2020/08/modem-bridge.jpg"/>
        <!--<meta itemprop="width" content=""/>--><!-- TODO Image width -->
        <!--<meta itemprop="height" content=""/>--><!-- TODO Image height -->
    </div>



    <meta itemprop="inLanguage" content="pt"/>



    <!-- Disqus -->
    <script id="dsq-count-scr" src="//vinyanalista.disqus.com/count.js" async></script>
    <!-- Disqus End -->



    <!-- Google AdSense -->
    
        
    <!-- Google AdSense -->
    <ins class="adsbygoogle" id="content_ad_unit_2"
        style="display:block"
        data-ad-client="ca-pub-5193467168351289"
        data-ad-slot="7465185857"
        data-ad-format="auto"
        data-full-width-responsive="true"></ins>
    <!-- End Google AdSense -->


    

    <script type="text/javascript">
        adsbygoogle = window.adsbygoogle || [];

        $(document).ready(function(){
            
                var $ad = $('#content_ad_unit_2');
                var $posts = $('.blog-post');
                if (($posts.length > 1) || ($('.blog-archive-title').length > 0)) {
                    // Post listing
                    var post;
                    if ($posts.length > 2) {
                        post = random_number(2, $posts.length);
                    } else {
                        post = 2;
                    }
                    $posts.eq(post - 1).find('.blog-post-content .row').after($ad);
                } else {
                    // Page or post
                    var $paragraphs = $('.blog-post-content p').filter(function() {
                        return ($(this).closest('.no-ads-here').length == 0);
                    });
                    if ($paragraphs.length > 0) {
                        var paragraph;
                        if ($paragraphs.length > 1) {
                            paragraph = random_number(1, $paragraphs.length);
                        } else {
                            paragraph = 1;
                        }
                        $paragraphs.eq(paragraph - 1).after($ad);
                    } else {
                        $ad.remove();
                    }
                }
            
            $('.adsbygoogle').each(function(index, element){
                adsbygoogle.push({});
            });
        });
    </script>
    <!-- Google AdSense End -->



            
        </main>
    </div><!-- .bmd-layout-container -->
</body>
</html>
